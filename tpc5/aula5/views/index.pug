extends layout

block content
  div.w3-row
      div.w3-black.w3-container.w3-center(style="height:650px")
        div.class.w3-padding-64
          h1 Add Task
        div
          form.w3-container(method="POST")
            fieldset
              if task==null
                legend Task Data
                label Id
                input.w3-input.w3-round(type="text" name="id")
                label Task description
                input.w3-input.w3-round(type="text" name="what")
                label Who has to do it 
                input.w3-input.w3-round(type="text" name="who")
                label Due date 
                input.w3-input.w3-round(type="text" name="when")
                label Is it done? 
                input.w3-input.w3-round(type="text" name="done")
              else
                legend Task Data
                label Id
                input.w3-input.w3-round(type="text" name="id" readonly value = task.id)
                label Task description
                input.w3-input.w3-round(type="text" name="what" value = task.what)
                label Who has to do it 
                input.w3-input.w3-round(type="text" name="who" value = task.who)
                label Due date 
                input.w3-input.w3-round(type="text" name="when" value = task.when)
                label Is it done? 
                input.w3-input.w3-round(type="text" name="done" value = task.done)

            button.w3-btn.w3-round.w3-grey(type="submit") Register

  div.w3-row
    div.w3-half.w3-container.w3-center(style="height:700px")
      div.w3-padding-64.w3-padding-large
        h1 To do list
      div.w3-container
        table.w3-table-all
          tr
            th Description
            th Who
            th DueDate
          each notDoneTask in notFinishedList
            tr
              td=notDoneTask.what
              td=notDoneTask.who
              td=notDoneTask.when
              td
                button.w3-btn.w3-round.w3-indigo.w3-margin-right 
                  a(href="/tareas/edit/"+notDoneTask.id) Edit
                button.w3-btn.w3-round.w3-indigo.w3-margin-right
                  a(href="/tareas/delete/"+notDoneTask.id) Delete
              td
                button.w3-btn.w3-round.w3-grey  
                  a(href="/tareas/done/"+notDoneTask.id) Done
    div.w3-half.w3-container(style="height:700px")
      div.w3-padding-64.w3-padding-large
        h1 List of Done tasks
        div.w3-container
          table.w3-table-all
            tr
              th Description
              th Who
              th DueDate
            each doneTask in finishedList
              tr
                td=doneTask.what
                td=doneTask.who
                td=doneTask.when
                td
                  button.w3-btn.w3-round.w3-indigo.w3-margin-right 
                    a(href="/tareas/edit/"+doneTask.id) Edit
                  button.w3-btn.w3-round.w3-indigo.w3-margin-right
                    a(href="/tareas/delete/"+doneTask.id) Delete
  footer.w3-container.w3-teal
      h5 Generated by RPCW2023 in #{d}

